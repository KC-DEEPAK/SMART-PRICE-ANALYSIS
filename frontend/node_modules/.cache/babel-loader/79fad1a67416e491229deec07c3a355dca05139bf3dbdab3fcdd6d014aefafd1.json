{"ast":null,"code":"import{useState}from\"react\";import\"./AccountPage.css\";import PriceAlertSettings from\"../components/PriceAlertSettings\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AccountPage(){// üë§ USER DATA\nconst storedUser=JSON.parse(localStorage.getItem(\"user\"))||{};const[user]=useState(storedUser);// üì∏ PROFILE PHOTO\nconst[photo,setPhoto]=useState(localStorage.getItem(\"profilePhoto\"));const handlePhotoUpload=e=>{const file=e.target.files[0];if(!file)return;const reader=new FileReader();reader.onloadend=()=>{localStorage.setItem(\"profilePhoto\",reader.result);setPhoto(reader.result);};reader.readAsDataURL(file);};// üö™ LOGOUT\nconst handleLogout=()=>{localStorage.removeItem(\"user\");window.location.href=\"/login\";};// üåæ SAFELY GET CROPS FOR ALERT SETTINGS\nconst crops=(()=>{try{const saved=JSON.parse(localStorage.getItem(\"allCrops\"));return Array.isArray(saved)?[...new Set(saved)].filter(Boolean):[];}catch(_unused){return[];}})();return/*#__PURE__*/_jsx(\"div\",{className:\"account-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"account-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDC64 My Account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-section\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo||\"https://cdn-icons-png.flaticon.com/512/3135/3135715.png\",alt:\"Profile\",className:\"profile-pic\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"upload-btn\",children:[\"Change Photo\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",hidden:true,onChange:handlePhotoUpload})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Name:\"}),\" \",user.name||\"-\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Phone:\"}),\" \",user.phone||\"-\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Email:\"}),\" \",user.email||\"-\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Place:\"}),\" \",user.place||\"-\"]})]}),/*#__PURE__*/_jsx(PriceAlertSettings,{crops:crops}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:\"\\uD83D\\uDEAA Logout\"})]})});}export default AccountPage;","map":{"version":3,"names":["useState","PriceAlertSettings","jsx","_jsx","jsxs","_jsxs","AccountPage","storedUser","JSON","parse","localStorage","getItem","user","photo","setPhoto","handlePhotoUpload","e","file","target","files","reader","FileReader","onloadend","setItem","result","readAsDataURL","handleLogout","removeItem","window","location","href","crops","saved","Array","isArray","Set","filter","Boolean","_unused","className","children","src","alt","type","accept","hidden","onChange","name","phone","email","place","onClick"],"sources":["C:/Users/Deepak K C/Desktop/best_time_to_sell_crop/frontend/src/pages/AccountPage.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport \"./AccountPage.css\";\r\nimport PriceAlertSettings from \"../components/PriceAlertSettings\";\r\n\r\nfunction AccountPage() {\r\n  // üë§ USER DATA\r\n  const storedUser = JSON.parse(localStorage.getItem(\"user\")) || {};\r\n  const [user] = useState(storedUser);\r\n\r\n  // üì∏ PROFILE PHOTO\r\n  const [photo, setPhoto] = useState(\r\n    localStorage.getItem(\"profilePhoto\")\r\n  );\r\n\r\n  const handlePhotoUpload = e => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    const reader = new FileReader();\r\n    reader.onloadend = () => {\r\n      localStorage.setItem(\"profilePhoto\", reader.result);\r\n      setPhoto(reader.result);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  // üö™ LOGOUT\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"user\");\r\n    window.location.href = \"/login\";\r\n  };\r\n\r\n  // üåæ SAFELY GET CROPS FOR ALERT SETTINGS\r\n  const crops = (() => {\r\n    try {\r\n      const saved = JSON.parse(localStorage.getItem(\"allCrops\"));\r\n      return Array.isArray(saved)\r\n        ? [...new Set(saved)].filter(Boolean)\r\n        : [];\r\n    } catch {\r\n      return [];\r\n    }\r\n  })();\r\n\r\n  return (\r\n    <div className=\"account-page\">\r\n      <div className=\"account-card\">\r\n        <h2>üë§ My Account</h2>\r\n\r\n        {/* üì∏ PROFILE PHOTO */}\r\n        <div className=\"profile-section\">\r\n          <img\r\n            src={\r\n              photo ||\r\n              \"https://cdn-icons-png.flaticon.com/512/3135/3135715.png\"\r\n            }\r\n            alt=\"Profile\"\r\n            className=\"profile-pic\"\r\n          />\r\n\r\n          <label className=\"upload-btn\">\r\n            Change Photo\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              hidden\r\n              onChange={handlePhotoUpload}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        {/* ‚ÑπÔ∏è USER INFO */}\r\n        <div className=\"info\">\r\n          <p><b>Name:</b> {user.name || \"-\"}</p>\r\n          <p><b>Phone:</b> {user.phone || \"-\"}</p>\r\n          <p><b>Email:</b> {user.email || \"-\"}</p>\r\n          <p><b>Place:</b> {user.place || \"-\"}</p>\r\n        </div>\r\n\r\n        {/* üîî PRICE ALERT SETTINGS */}\r\n        <PriceAlertSettings crops={crops} />\r\n\r\n        <button className=\"logout-btn\" onClick={handleLogout}>\r\n          üö™ Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AccountPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}