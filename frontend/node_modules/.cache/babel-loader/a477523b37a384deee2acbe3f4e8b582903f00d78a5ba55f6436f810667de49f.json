{"ast":null,"code":"let alerted = false; // prevent repeated alerts\n\nexport function checkPriceAlert(cropName, currentPrice) {\n  if (alerted) return;\n  const alertData = JSON.parse(localStorage.getItem(\"priceAlert\"));\n  if (!alertData) return;\n  if (alertData.crop !== cropName) return;\n  const min = Number(alertData.minPrice);\n  const max = Number(alertData.maxPrice);\n  const price = Number(currentPrice);\n  if (min && price <= min) {\n    alerted = true;\n    showInAppAlert(`ðŸ”» Price Drop Alert`, `${cropName} price fell to â‚¹${price}`);\n  }\n  if (max && price >= max) {\n    alerted = true;\n    showInAppAlert(`ðŸ“ˆ Price Rise Alert`, `${cropName} price increased to â‚¹${price}`);\n  }\n}\nfunction showInAppAlert(title, message) {\n  // Popup (demo)\n  alert(`${title}\\n${message}`);\n\n  // Save last alert (optional)\n  localStorage.setItem(\"lastAlert\", JSON.stringify({\n    title,\n    message,\n    time: new Date()\n  }));\n}","map":{"version":3,"names":["alerted","checkPriceAlert","cropName","currentPrice","alertData","JSON","parse","localStorage","getItem","crop","min","Number","minPrice","max","maxPrice","price","showInAppAlert","title","message","alert","setItem","stringify","time","Date"],"sources":["C:/Users/Deepak K C/Desktop/best_time_to_sell_crop/frontend/src/utils/checkPriceAlert.js"],"sourcesContent":["let alerted = false; // prevent repeated alerts\r\n\r\nexport function checkPriceAlert(cropName, currentPrice) {\r\n  if (alerted) return;\r\n\r\n  const alertData = JSON.parse(localStorage.getItem(\"priceAlert\"));\r\n  if (!alertData) return;\r\n\r\n  if (alertData.crop !== cropName) return;\r\n\r\n  const min = Number(alertData.minPrice);\r\n  const max = Number(alertData.maxPrice);\r\n  const price = Number(currentPrice);\r\n\r\n  if (min && price <= min) {\r\n    alerted = true;\r\n    showInAppAlert(\r\n      `ðŸ”» Price Drop Alert`,\r\n      `${cropName} price fell to â‚¹${price}`\r\n    );\r\n  }\r\n\r\n  if (max && price >= max) {\r\n    alerted = true;\r\n    showInAppAlert(\r\n      `ðŸ“ˆ Price Rise Alert`,\r\n      `${cropName} price increased to â‚¹${price}`\r\n    );\r\n  }\r\n}\r\n\r\nfunction showInAppAlert(title, message) {\r\n  // Popup (demo)\r\n  alert(`${title}\\n${message}`);\r\n\r\n  // Save last alert (optional)\r\n  localStorage.setItem(\r\n    \"lastAlert\",\r\n    JSON.stringify({ title, message, time: new Date() })\r\n  );\r\n}\r\n"],"mappings":"AAAA,IAAIA,OAAO,GAAG,KAAK,CAAC,CAAC;;AAErB,OAAO,SAASC,eAAeA,CAACC,QAAQ,EAAEC,YAAY,EAAE;EACtD,IAAIH,OAAO,EAAE;EAEb,MAAMI,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC;EAChE,IAAI,CAACJ,SAAS,EAAE;EAEhB,IAAIA,SAAS,CAACK,IAAI,KAAKP,QAAQ,EAAE;EAEjC,MAAMQ,GAAG,GAAGC,MAAM,CAACP,SAAS,CAACQ,QAAQ,CAAC;EACtC,MAAMC,GAAG,GAAGF,MAAM,CAACP,SAAS,CAACU,QAAQ,CAAC;EACtC,MAAMC,KAAK,GAAGJ,MAAM,CAACR,YAAY,CAAC;EAElC,IAAIO,GAAG,IAAIK,KAAK,IAAIL,GAAG,EAAE;IACvBV,OAAO,GAAG,IAAI;IACdgB,cAAc,CACZ,qBAAqB,EACrB,GAAGd,QAAQ,mBAAmBa,KAAK,EACrC,CAAC;EACH;EAEA,IAAIF,GAAG,IAAIE,KAAK,IAAIF,GAAG,EAAE;IACvBb,OAAO,GAAG,IAAI;IACdgB,cAAc,CACZ,qBAAqB,EACrB,GAAGd,QAAQ,wBAAwBa,KAAK,EAC1C,CAAC;EACH;AACF;AAEA,SAASC,cAAcA,CAACC,KAAK,EAAEC,OAAO,EAAE;EACtC;EACAC,KAAK,CAAC,GAAGF,KAAK,KAAKC,OAAO,EAAE,CAAC;;EAE7B;EACAX,YAAY,CAACa,OAAO,CAClB,WAAW,EACXf,IAAI,CAACgB,SAAS,CAAC;IAAEJ,KAAK;IAAEC,OAAO;IAAEI,IAAI,EAAE,IAAIC,IAAI,CAAC;EAAE,CAAC,CACrD,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}